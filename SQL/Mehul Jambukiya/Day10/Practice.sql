USE Practice

SET NOCOUNT ON

--DECLARE CURSOR

DECLARE CurDemo CURSOR
	STATIC FOR
		SELECT Id,Name FROM Demo4

--OPEN CURSOR

OPEN CurDemo

--FETCH FROM CURSOR

DECLARE @ID INT,@NAME VARCHAR(60)
IF (@@CURSOR_ROWS>0)
	BEGIN
		FETCH NEXT FROM CurDemo INTO @ID,@NAME
		WHILE @@FETCH_STATUS=0
			BEGIN
				PRINT 'ID:'+CONVERT(VARCHAR,@ID)+',Name:'+@NAME
				FETCH NEXT FROM CurDemo INTO @ID,@NAME
			END
	END

--CLOSE CURSOR

CLOSE CurDemo

--DEALLOCATE CURSOR

DEALLOCATE CurDemo

SET NOCOUNT OFF

SELECT * FROM Demo4




--STATIC CURSOR

DECLARE StaticCursor CURSOR
	STATIC FOR
		SELECT Id,Name FROM Demo4


OPEN StaticCursor

	FETCH FIRST FROM StaticCursor

	UPDATE Demo4 SET Name='ModifiedName' WHERE Id=1

	FETCH FIRST FROM StaticCursor

CLOSE StaticCursor

DEALLOCATE StaticCursor

--DYNAMIC CURSOR

DECLARE DynamicCursor CURSOR
	DYNAMIC FOR
		SELECT Id,Name FROM Demo4


OPEN DynamicCursor

	FETCH FIRST FROM DynamicCursor

	UPDATE Demo4 SET Name='JOHN' WHERE Id=1

	FETCH FIRST FROM DynamicCursor

CLOSE DynamicCursor

DEALLOCATE DynamicCursor





