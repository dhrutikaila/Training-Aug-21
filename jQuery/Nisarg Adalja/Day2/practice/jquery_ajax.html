<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../assests/css/bootstrap.min.css">
    <script src="../../assests/js/jquery-3.6.0.js"></script>
    <script src="../../assests/js/bootstrap.bundle.js"></script>
    <script type="text/javascript" 
            src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js">
    </script>
</head>

<body>
    <div id="div1">
        <h2>Let jQuery AJAX Change This Text</h2>
    </div>

    <button id="btn" class="btn btn-success">Get External Content</button>
    <button id="btn1" class="btn btn-success">Get Content of p tag</button>

    <div id="div2">
        <h2>Let jQuery AJAX Change This Text</h2>
    </div>

    <button id="btn2" class="btn btn-success">Get External Content</button>

    <button id="btn3" class="btn btn-success mt-3">Send an HTTP GET request to a page and get the result back</button>

    <div id="div3">
        <h2>Let jQuery AJAX Change This Text</h2>
    </div>

    <button id="btn4" class="btn btn-success">Post Content</button>
    <button id="btn5" class="btn btn-success">Get External Content</button>

    <div id="div4">
        <h2>Let jQuery AJAX Change This Text</h2>
    </div>
    <button id="btn6" class="btn btn-success">Get External Content</button>
    <button id="btn7" class="btn btn-success">Get External Content</button>
    <div id="div5">
        <h2>Let jQuery AJAX Change This Text</h2>
    </div>
    <button id="btn8" class="btn btn-success">Get JSON Data</button>

    <button id="btn9" class="btn btn-success">Use Ajax to get and then run a JavaScript</button>

    <button id="btn10" class="btn btn-success">Serialize object</button>
    <div id="div6"></div>

    <button id="btn11" class="btn btn-success">Send an HTTP POST request to a page and get the result back</button>
    
    <h1> jQuery post() method demo 
	</h1>
	<input type="button" id="ajaxBtn" value="Send POST request" />
	<p>
	</p>



    <script>
        $("#btn").click(function () {
            $("#div1").load("demo_test.txt");
        });

        /*It is also possible to add a jQuery selector to the URL parameter.

        The following example loads the content of the element with id="p1", inside the file "demo_test.txt", into a specific <div> element: */
        $("#btn1").click(function () {
            $("#div1").load("demo_test.txt #p1");
        });

        /*The optional callback parameter specifies a callback
        function to run when the load() method is completed.The callback
        function can have different parameters:

            responseTxt - contains the resulting content
        if the call succeeds
        statusTxt - contains the status of the call
        xhr - contains the XMLHttpRequest object
        The following example displays an alert box after the load() method completes
        .If the load() method has succeeded, it displays "External content loaded successfully!", and
        if it fails it displays an error message:
        */

        $("#btn2").click(function () {
            $("#div2").load("demo_test.txt", function (responseTxt, statusTxt, xhr) {
                if (statusTxt == "success")
                    alert("External content loaded successfully!");
                if (statusTxt == "error")
                    alert("Error: " + xhr.status + ": " + xhr.statusText);
            });
        });

        /* HTTP Request: GET vs.POST
        Two commonly used methods
        for a request - response between a client and server are: GET and POST.

        GET - Requests data from a specified resource
        POST - Submits data to be processed to a specified resource
        GET is basically used
        for just getting(retrieving) some data from the server.Note: The GET method may
        return cached data.

        POST can also be used to get some data from the server.However, the POST method NEVER caches data,
            and is often used to send data along with the request.

        To learn more about GET and POST, and the differences between the two methods,
        please read our HTTP Methods GET vs POST chapter. */

        /*jQuery $.get() Method
        The $.get() method requests data from the server with an HTTP GET request.

        Syntax:

        $.get(URL,callback);
        The required URL parameter specifies the URL you wish to request.

        The optional callback parameter is the name of a function to be executed if the request succeeds.

        The following example uses the $.get() method to retrieve data from a file on the server:
        */

        $("#btn3").click(function () {
            $.get("demo_test.txt", function (data, status) {
                alert("Data: " + data + "\nStatus: " + status);

            });
        });
        /*jQuery $.post() Method
        The $.post() method requests data from the server using an HTTP POST request.

        Syntax:

            $.post(URL, data, callback);
        The required URL parameter specifies the URL you wish to request.

        The optional data parameter specifies some data to send along with the request.

        The optional callback parameter is the name of a
        function to be executed
        if the request succeeds.

        The following example uses the $.post() method to send some data along with the request: */

        /* $("#btn4").click(function () {
             $.post("demo_test.txt", 
                 function (data, status) {
                     alert("Data: " + data + "\nStatus: " + status);
                 });
         });
         */
        /*Method                        Description
        $.ajax()                        Performs an async AJAX request
        $.ajaxPrefilter()               Handle custom Ajax options or modify existing options before each request is sent and before they are processed by $.ajax()
        $.ajaxSetup()                   Sets the default values for future AJAX requests
        $.ajaxTransport()               Creates an object that handles the actual transmission of Ajax data
        $.get()                         Loads data from a server using an AJAX HTTP GET request
        $.getJSON()                     Loads JSON - encoded data from a server using a HTTP GET request
        $.parseJSON()                   Deprecated in version 3.0, use JSON.parse() instead.Takes a well -
                                        formed JSON string and returns the resulting JavaScript value
        $.getScript()                   Loads(and executes) a JavaScript from a server using an AJAX HTTP GET request
        $.param()                       Creates a serialized representation of an array or object(can be used as URL query string for AJAX requests)
        $.post()                        Loads data from a server using an AJAX HTTP POST request
        ajaxComplete()                  Specifies a function to run when the AJAX request completes
        ajaxError()                     Specifies a function to run when the AJAX request completes with an error
        ajaxSend()                      Specifies a function to run before the AJAX request is sent
        ajaxStart()                     Specifies a function to run when the first AJAX request begins
        ajaxStop()                      Specifies a function to run when all AJAX requests have completed
        ajaxSuccess()                   Specifies a function to run when an AJAX request completes successfully
        load()                          Loads data from a server and puts the returned data into the selected element
        serialize()                     Encodes a set of form elements as a string for submission
        serializeArray()                Encodes a set of form elements as an array of names and values */


        /*jQuery ajax() Method

        Change the text of a < div > element using an AJAX request:
        */
        $("#btn5").click(function () {
            $.ajax({
                url: "demo_test.txt",
                success: function (result) {
                    $("#div3").html(result);
                }
            });
        });
        /*Definition and Usage
        The ajax() method is used to perform an AJAX(asynchronous HTTP) request.

        All jQuery AJAX methods use the ajax() method.This method is mostly used
        for requests where the other methods cannot be used.

        Syntax
        $.ajax({
            name: value,
            name: value,
            ...
        })
        The parameters specifies one or more name / value pairs
        for the AJAX request.*/

        $("#btn6").click(function () {
            //alert("hii");
            $.ajaxSetup({
                url: "demo_test.txt",
                success: function (result) {
                    //alert($("#div4").html());
                    $("#div4").html(result);
                }
            });
            $.ajax();
        });

        //$.get()	Loads data from a server using an AJAX HTTP GET request
        $("#btn7").click(function () {
            $.get("demo_test.txt", function (data, status) {
                alert("Data: " + data + "\nStatus: " + status);
                $("#div4").html(data);
            });
        });

        /*jQuery getJSON() Method

        Get JSON data using an AJAX request, and output the result:*/

        // $(selector).getJSON(url,data,success(data,status,xhr))

        $("#btn8").click(function () {
            $.getJSON("products.json", function (result, status, xhr) {
                //console.log(status);
                $.each(result.products, function (i, field) {
                    console.log(result.products);
                    $("#div5").append("<div class='d-block col-12''>" + field.Name + "   " +
                        field.Price + "$    " + field.Location + "</div>");
                });
            });
        });

        //$.getScript()	Loads (and executes) a JavaScript from a server using an AJAX HTTP GET request
        // Syntax :  $(selector).getScript(url,success(response,status))

        $("#btn9").click(function () {
            $.getScript("demo_ajax_script.js");
        });
        //$.param()	Creates a serialized representation of an array or object (can be used as URL query string for AJAX requests)
        personObj = new Object();
        personObj.firstname = "Nisarg";
        personObj.lastname = "Adalja";
        personObj.age = 22;
        personObj.eyecolor = "black";
        $("#btn10").click(function () {
            $("#div6").text($.param(personObj));
        });

        //$.post()	Loads data from a server using an AJAX HTTP POST request

        $("#btn11").click(function () {
            $.post("demo_test_post.", {
                    name: "Nisarg Adalja",
                    city: "Ahmedabad"
                },
                function (data, status) {
                    alert("Data: " + data + "\nStatus: " + status);
                });
        });

         $('#ajaxBtn').click(function(){
			
			$.post('demo_ajax_gethint.txt',   // url
			   function(data) {// success callback
						$('p').append('data: ' + data);
				});
			});
    </script>
</body>

</html>